Have WSL set up with (what i experienced) :
- Ubuntu packages for cuda and wsl (Cuda, Cuda toolkit)
- cuda & cuda toolkit >= 12.4 (make sure can nvcc -V in wsl)
- if windows cuda installed, just download cuda toolkit for wsl without the cuda drivers (ubuntu)
- install libtinfo5(dont skip Nsight tools), CUDA toolkit dev libraries(libcublas-dev & libcusparse-dev)
- need install in wsl python3 python3-pip python3-dev python3-venv python3-setuptools python-is-python3 
- need install pybind11-dev
- need uv pip install in wsl venv pybind11



In WSL (Ubuntu) :
1. Make the venv & activate it
uv venv --python 3.10 --seed
source .venv/bin/activate

2. Install torch cuda (any version that works)
uv pip install torch==2.5.1 torchvision==0.20.1 torchaudio==2.5.1 --index-url https://download.pytorch.org/whl/cu124
OR
uv pip install torch torchvision torchaudio --torch-backend=auto

3. Install requirements.txt
uv pip install --index-strategy unsafe-best-match -r requirements.txt

4. Install custom_rasterizer 
cd hy3dpaint/custom_rasterizer
uv pip install --no-build-isolation -e .
cd ../..
cd hy3dpaint/DifferentiableRenderer
bash compile_mesh_painter.sh
cd ../..

5. Install Real-ESRGAN checkpt (make sure ckpt is in hy3dpaint folder)
wget https://github.com/xinntao/Real-ESRGAN/releases/download/v0.1.0/RealESRGAN_x4plus.pth -P hy3dpaint/ckpt

6. Launch gradio webapp and load models (Other models auto-downloaded)
uv run gradio_app.py --model_path tencent/Hunyuan3D-2.1 --subfolder hunyuan3d-dit-v2-1 --texgen_model_path tencent/Hunyuan3D-2.1 --low_vram_mode

7. localhost:8080



errors :
0. Don't run on windows

1. Can't pip install bpy==4.0 :
add --extra-index-url https://download.blender.org/pypi/ in requirements.txt
run uv pip install --index-strategy unsafe-best-match -r requirements.txt (Query all package indexes, merge results and pick best)

2. Can't pip install at step 4 :
run uv pip install --no-build-isolation -e . (uses current venv packages to build rather than in a temporary isolated environment)

3. if have some error at step 4 :
Tweak setup.py ?? (don't remember)

4. WSL and venv crashes at moe means out of memory :
In C:\Users\<username>\ , make a .wslconfig file (adjust according to your comp specs) and inside the file, 
"
[wsl2]
memory=24GB
processors=6
swap=32GB
localhostForwarding=true
"
Make sure to restart wsl ( wsl --shutdown )

5. CUDA_HOME error : must set environment variables (CUDA_HOME) in wsl

6. Any other weird errors :
WSL, Cuda, python or some library not setup properly




